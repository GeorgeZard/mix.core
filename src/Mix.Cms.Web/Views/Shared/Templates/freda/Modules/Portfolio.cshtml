@using Mix.Cms.Lib
@using Mix.Cms.Lib.Services
@model Mix.Cms.Lib.ViewModels.MixModules.ReadMvcViewModel
@{
    string assetFolder = Mix.Cms.Lib.MixCmsHelper.GetAssetFolder(ViewBag.culture);
    string templateFolder = Mix.Cms.Lib.MixCmsHelper.GetTemplateFolder(ViewBag.culture);

    var testimonials = await Mix.Cms.Lib.MixCmsHelper.GetNavigation("testimonials", ViewBag.culture, Url);
    var clients = await Mix.Cms.Lib.MixCmsHelper.GetNavigation("clients", ViewBag.culture, Url);

    var galleries = Mix.Cms.Lib.ViewModels.MixModules.ReadMvcViewModel.Repository.GetModelListAsync("CreatedDateTime", Mix.Heart.Enums.MixHeartEnums.DisplayDirection.Asc, 0, 20);
}

<!-- portfolio section -->
<section class="yb-section  uk-overflow-hidden" id="portfolio">
    <div class="yb-section-point-wrapper">
        <div class="uk-container">
            <div class="yb-section-point">
                <span>Portfolio</span>
            </div>
        </div>
    </div>
    <div class="uk-container ">
        <div data-uk-grid class="uk-grid-divider">
            <div class="uk-width-1-4@s uk-visible@s uk-margin-large-bottom yb-section-padding-top" id="portfolio-nav-wrapper">
                <div data-uk-sticky="bottom: #portfolio-nav-wrapper; offset: 100; media: 650">
                    <ul class="yb-nav-left uk-tab-left uk-tab" data-uk-scrollspy-nav="closest: li; scroll: false; offset: 120">
                        <li class="uk-active">
                            <a href="#myworks" class="yb-inner-link" data-offset="120">
                                <span data-uk-icon="minus"></span>
                                @(Mix.Cms.Lib.Services.MixService.TranslateString("portofolio_projects", ViewBag.culture))
                            </a>
                        </li>

                        <li>
                            <a href="#testi" class="yb-inner-link" data-offset="120">
                                <span data-uk-icon="minus"></span>
                                @(Mix.Cms.Lib.Services.MixService.TranslateString("portofolio_testimonials", ViewBag.culture))
                            </a>
                        </li>
                        <li>
                            <a href="#client" class="yb-inner-link" data-offset="120">
                                <span data-uk-icon="minus"></span>
                                @(Mix.Cms.Lib.Services.MixService.TranslateString("portofolio_clients", ViewBag.culture))
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="uk-width-expand@s yb-section-padding-top">
                <div>
                    <h2 class="yb-section-title uk-heading-line " id="myworks"><span>@(Mix.Cms.Lib.Services.MixService.TranslateString("portofolio_projects", ViewBag.culture))</span></h2>
                    <div data-uk-filter="target: .js-filter" class="yb-margin-top-1 yb-margin-bottom-1">
                        @*<ul class="yb-nav-filter uk-subnav uk-subnav-pill ">
                            <li><a data-uk-filter-control>All</a></li>
                            <li><a data-uk-filter-control=".data-web">Web</a></li>
                            <li><a data-uk-filter-control=".data-brand">Brand</a></li>
                            <li><a data-uk-filter-control=".data-design">Design</a></li>
                        </ul>*@
                        <ul class="js-filter uk-child-width-1-2  uk-grid-small  " data-uk-grid data-uk-lightbox="animation: fade;  toggle: .yb-lightbox">
                            @foreach (var gallery in galleries.Result.Data.Items.Where(p => p.Type == MixEnums.MixModuleType.Gallery)) {
                            <li class="data-web ">
                                <div class="yb-work-item uk-transition-toggle">
                                    <div class="yb-work-item-img-wrap">
                                        <div class="yb-work-item-img">
                                            <img src="@gallery.Image"  data-src="@gallery.Image" class="uk-transition-scale-up uk-transition-opaque" alt="" data-uk-img />
                                        </div>
                                        <div class="yb-work-item-overlay uk-transition-fade uk-position-cover uk-position-small uk-overlay  uk-flex uk-flex-center uk-flex-middle">
                                            <div>
                                                <a href="@gallery.Image" class="yb-lightbox uk-transition-slide-left" data-caption="Caption Title Web">
                                                    <span data-uk-icon="icon:plus; ratio:1.2"></span>
                                                </a>
                                                @*<a href="@gallery.DetailsUrl" target="_blank" class="uk-transition-slide-right show-portfolio">
                                                    <span data-uk-icon="icon:link; ratio:1.2"></span>
                                                </a>*@
                                            </div>
                                        </div>
                                    </div>
                                    <a href="@gallery.DetailsUrl" class="show-portfolio">
                                        <div class="yb-work-item-title">
                                            <h5>@gallery.Title</h5>
                                        </div>
                                    </a>
                                </div>
                            </li>
                            }
                        </ul>
                        <div id="show-portofolio-details" class="uk-modal-full" data-uk-modal>
                            <div class="uk-modal-dialog ">
                                <button class="uk-modal-close-full uk-close-large" type="button" data-uk-close></button>
                                <div id="portofolio-details" data-uk-height-viewport class="uk-animation-toggle uk-overflow-hidden">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <section>
                </section>
                <div>
                    <h2 class="yb-section-title uk-heading-line " id="testi"><span> @(Mix.Cms.Lib.Services.MixService.TranslateString("portofolio_testimonials", ViewBag.culture))</span></h2>
                    <div data-uk-slider>
                        <div class="yb-margin-top-1 yb-margin-bottom-2">
                            <div data-uk-grid class="uk-grid-small">
                                <div class="uk-width-expand">
                                    <div class="uk-slider-container">
                                        <ul class="yb-slider-items uk-slider-items uk-child-width-1-1">

                                            @if (testimonials != null) {
                                                foreach (var item in testimonials.MenuItems) {
                                                    <li>
                                                        <div class="yb-testi-item">
                                                            <div class="yb-testi-item-desc">
                                                                <h4>@item.Title</h4>
                                                                @item.Description
                                                            </div>
                                                            <div class="yb-testi-item-img">
                                                                <div data-uk-grid class="uk-flex-middle uk-grid-small">
                                                                    <div>
                                                                        <img src="/content/templates/freda/assets/fredahtml-20/src/img/empty.png" width="300" height="300" data-src="/content/templates/freda/assets/fredahtml-20/src/img/people/01.jpg" alt="" data-uk-img>
                                                                    </div>
                                                                    <div class="uk-text-bold uk-text-small">

                                                                        <span>@item.Title</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </li>
                                                }
                                            }


                                        </ul>
                                    </div>
                                </div>
                                <div class="uk-width-auto">
                                    <div class="yb-testi-nav">
                                        <a href="#" data-uk-slider-item="next">
                                            <span data-uk-icon="arrow-right"></span>
                                        </a>
                                        <a href="#" data-uk-slider-item="previous">
                                            <span data-uk-icon="arrow-left"></span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <h2 class="yb-section-title uk-heading-line " id="client"><span>@(Mix.Cms.Lib.Services.MixService.TranslateString("portofolio_clients", ViewBag.culture))</span></h2>
                    <div class="yb-margin-top-1 yb-margin-bottom-2">
                        <div data-uk-grid class="uk-child-width-1-6@m uk-child-width-1-3">

                            @if (clients != null) {
                                foreach (var item in clients.MenuItems) {
                                    <div>
                                        <div class="yb-client-item">
                                            <img src="@item.Icon" width="300" height="300" data-src="@item.Icon" alt="" class="uk-border-rounded" data-uk-img>
                                        </div>
                                    </div>
                                }
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <hr />

</section><!-- end portfolio section -->
